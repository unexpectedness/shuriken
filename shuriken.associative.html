<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>shuriken.associative documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Shuriken</span> <span class="project-version">0.14.52</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure</span></div></div></li><li class="depth-2"><a href="clojure.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>shuriken</span></div></div></li><li class="depth-2 branch current"><a href="shuriken.associative.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>associative</span></div></a></li><li class="depth-2"><a href="shuriken.byte-buddy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>byte-buddy</span></div></a></li><li class="depth-3"><a href="shuriken.byte-buddy.dsl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dsl</span></div></a></li><li class="depth-2 branch"><a href="shuriken.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="shuriken.debug.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debug</span></div></a></li><li class="depth-2 branch"><a href="shuriken.dev.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dev</span></div></a></li><li class="depth-2 branch"><a href="shuriken.exception.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exception</span></div></a></li><li class="depth-2 branch"><a href="shuriken.iterator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>iterator</span></div></a></li><li class="depth-2 branch"><a href="shuriken.lazy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazy</span></div></a></li><li class="depth-2 branch"><a href="shuriken.let.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>let</span></div></a></li><li class="depth-2 branch"><a href="shuriken.macro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>macro</span></div></a></li><li class="depth-2 branch"><a href="shuriken.meta.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>meta</span></div></a></li><li class="depth-2 branch"><a href="shuriken.monkey-patch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>monkey-patch</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>monkey-patches</span></div></div></li><li class="depth-3 branch"><a href="shuriken.monkey-patches.as-macro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>as-macro</span></div></a></li><li class="depth-3 branch"><a href="shuriken.monkey-patches.fn-source.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn-source</span></div></a></li><li class="depth-3 branch"><a href="shuriken.monkey-patches.function-name.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>function-name</span></div></a></li><li class="depth-3"><a href="shuriken.monkey-patches.syntax-quote.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>syntax-quote</span></div></a></li><li class="depth-2 branch"><a href="shuriken.namespace.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>namespace</span></div></a></li><li class="depth-2 branch"><a href="shuriken.reflection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reflection</span></div></a></li><li class="depth-2 branch"><a href="shuriken.sequential.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sequential</span></div></a></li><li class="depth-2 branch"><a href="shuriken.source.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>source</span></div></a></li><li class="depth-2 branch"><a href="shuriken.spec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spec</span></div></a></li><li class="depth-2 branch"><a href="shuriken.string.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>string</span></div></a></li><li class="depth-2"><a href="shuriken.tree.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tree</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="shuriken.associative.html#var-continue.7C"><div class="inner"><span>continue|</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-deep-merge"><div class="inner"><span>deep-merge</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-deflatten-keys"><div class="inner"><span>deflatten-keys</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-filter-keys"><div class="inner"><span>filter-keys</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-filter-vals"><div class="inner"><span>filter-vals</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-flatten-keys"><div class="inner"><span>flatten-keys</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-getsoc"><div class="inner"><span>getsoc</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-index-by"><div class="inner"><span>index-by</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-map-difference"><div class="inner"><span>map-difference</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-map-intersection"><div class="inner"><span>map-intersection</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-map-keys"><div class="inner"><span>map-keys</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-map-vals"><div class="inner"><span>map-vals</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-merge-with-plan"><div class="inner"><span>merge-with-plan</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-plan-merge"><div class="inner"><span>plan-merge</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-remove-keys"><div class="inner"><span>remove-keys</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-remove-vals"><div class="inner"><span>remove-vals</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-split-map"><div class="inner"><span>split-map</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-submap.3F"><div class="inner"><span>submap?</span></div></a></li><li class="depth-1"><a href="shuriken.associative.html#var-unindex"><div class="inner"><span>unindex</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">shuriken.associative</h1><div class="doc"><div class="markdown"><h3><a href="#operations-on-associative-structures" id="operations-on-associative-structures"></a>Operations on associative structures</h3>
</div></div><div class="public anchor" id="var-continue.7C"><h3>continue|</h3><div class="usage"><code>(continue| fa fb)</code></div><div class="doc"><div class="markdown"><p>Takes two functions <code>fa</code> &amp; <code>fb</code> and returns the partial application of <code>fb</code> to <code>fa</code>.</p>
<p>See <a href="shuriken.associative.html#var-plan-merge">plan-merge</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-deep-merge"><h3>deep-merge</h3><div class="usage"><code>(deep-merge m &amp; more)</code></div><div class="doc"><div class="markdown"><p>Deep merges two or more nested maps.</p>
<pre><code class="language-clojure">(deep-merge {:x {:a :a  :b :b  :c :c}}
            {:x {:a :aa :b :bb}}
            {:x {:a :aaa}})

=&gt; {:x {:a :aaa  :b :bb  :c :c}}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-deflatten-keys"><h3>deflatten-keys</h3><div class="usage"><code>(deflatten-keys m &amp; {:keys [with], :or {with (fn* [p1__4255# p2__4254#] (do p2__4254#))}})</code></div><div class="doc"><div class="markdown"><p>Builds a nested map out of a map obtained from <a href="shuriken.associative.html#var-flatten-keys">flatten-keys</a>.</p>
<pre><code class="language-clojure">(deflatten-keys {[:a :b :c] :x
                 [:a :b :d] :y})
=&gt; {:a {:b {:c :x
            :d :y}}}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-filter-keys"><h3>filter-keys</h3><div class="usage"><code>(filter-keys f m)</code></div><div class="doc"><div class="markdown"><p>Filters <code>m</code> by applyng <code>f</code> to each key.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-filter-vals"><h3>filter-vals</h3><div class="usage"><code>(filter-vals f m)</code></div><div class="doc"><div class="markdown"><p>Filters <code>m</code> by applyng <code>f</code> to each value.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-flatten-keys"><h3>flatten-keys</h3><div class="usage"><code>(flatten-keys m)</code></div><div class="doc"><div class="markdown"><p>Transforms a nested map into a map where keys are paths through the original map and values are leafs these paths lead to.</p>
<pre><code class="language-clojure">(flatten-keys {:a {:b {:c :x
                       :d :y}}})
=&gt; {[:a :b :c] :x
    [:a :b :d] :y}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-getsoc"><h3>getsoc</h3><h4 class="type">macro</h4><div class="usage"><code>(getsoc coll k expr)</code></div><div class="doc"><div class="markdown"><p>Gets value at key <code>k</code> in hash <code>m</code> if present, otherwise eval <code>expr</code> and stores its result in <code>m</code> under key <code>k</code>. Returns a vector of the form <a href="get-or-stored-value new-coll">get-or-stored-value new-coll</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-index-by"><h3>index-by</h3><div class="usage"><code>(index-by f coll)</code><code>(index-by f strategy coll)</code></div><div class="doc"><div class="markdown"><p>Like <code>group-by</code> except it applies a strategy to each grouped collection. A strategy is a function with signature <code>(key, entries) -&gt; entry</code> where <code>entry</code> is the one that will be indexed. The default strategy asserts there is only one entry for the given key and returns it.</p>
<pre><code class="language-clojure">(def ms [{:a 1 :b 2} {:a 3 :b 4} {:a 5 :b 4}])

(index-by :a ms)
=&gt; {1 {:a 1 :b 2}
    3 {:a 3 :b 4}
    5 {:a 5 :b 4}}

(index-by :b ms)
=&gt; ; clojure.lang.ExceptionInfo (Duplicate entries for key 4)

(index-by :b (fn [key entries]
               (last entries))
          ms)
=&gt; {2 {:a 1 :b 2}
    4 {:a 5 :b 4}}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-map-difference"><h3>map-difference</h3><div class="usage"><code>(map-difference m &amp; ms)</code></div><div class="doc"><div class="markdown"><p>Returns a submap of m excluding any entry whose key appear in any of the remaining maps.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-map-intersection"><h3>map-intersection</h3><div class="usage"><code>(map-intersection m &amp; ms)</code></div><div class="doc"><div class="markdown"><p>Returns a submap of m including only entries whose key appear in all of the remaining maps.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-map-keys"><h3>map-keys</h3><div class="usage"><code>(map-keys f m)</code></div><div class="doc"><div class="markdown"><p>Applies <code>f</code> to each key of <code>m</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-map-vals"><h3>map-vals</h3><div class="usage"><code>(map-vals f m)</code></div><div class="doc"><div class="markdown"><p>Applies <code>f</code> to each value of <code>m</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-merge-with-plan"><h3>merge-with-plan</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-plan-merge"><h3>plan-merge</h3><div class="usage"><code>(plan-merge plan &amp; maps)</code></div><div class="doc"><div class="markdown"><p>Like <code>merge-with</code> except that the combination fn of a specific pair of entries is determined by looking up their key in <code>plan</code>. If not found, falls back to the function found under key <code>:else</code> or if not provided to a function that returns the value in the right-most map, thus providing the behavior of <code>merge</code>. In addition to a map, <code>plan</code> can also be a function accepting a key and returning a combination fn for the two values to merge.</p>
<p>You can use <a href="null"></a> to combine values of a key known to hold functions in a cps-like style: namely, functions will be composed from right to left, each one being passed as first argument the next function to call in the chain.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-remove-keys"><h3>remove-keys</h3><div class="usage"><code>(remove-keys f m)</code></div><div class="doc"><div class="markdown"><p>Removes <code>m</code> by applyng <code>f</code> to each key.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-remove-vals"><h3>remove-vals</h3><div class="usage"><code>(remove-vals f m)</code></div><div class="doc"><div class="markdown"><p>Removes <code>m</code> by applyng <code>f</code> to each value.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-split-map"><h3>split-map</h3><div class="usage"><code>(split-map m &amp; kss)</code></div><div class="doc"><div class="markdown"><p>Returns a series of maps built by splitting <code>m</code> along each sequence of keys in <code>kss</code>: the first map has <code>(first kss)</code> as keys, the second one <code>(second kss)</code>, etc … while the last map has the remaining keys from <code>m</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-submap.3F"><h3>submap?</h3><div class="usage"><code>(submap? map1 map2)</code></div><div class="doc"><div class="markdown"><p>Determines whether <code>map1</code> is a subset, keys and values wise, of <code>map2</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div><div class="public anchor" id="var-unindex"><h3>unindex</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Alias of <code>vals</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/unexpectedness/shuriken/">view source</a></div></div></div></body></html>